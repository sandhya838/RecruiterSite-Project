(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{XRZr:function(e,t,n){"use strict";n.r(t),n.d(t,"ChangePasswordModule",function(){return x});var r=n("ofXK"),o=n("tyNb"),a=n("3Pt+"),s=n("fXoL"),d=n("w8Xc"),l=n("OlR4");function c(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"small"),s["\u0275\u0275text"](1," This field is required "),s["\u0275\u0275elementEnd"]())}function i(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275template"](1,c,2,0,"small",23),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2).ngIf;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.errors.required)}}function m(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",22),s["\u0275\u0275template"](1,i,2,1,"div",23),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]().ngIf;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.errors)}}function p(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",18),s["\u0275\u0275elementStart"](1,"label",19),s["\u0275\u0275text"](2,"Current Password"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"input",20),s["\u0275\u0275template"](4,m,2,1,"div",21),s["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf;s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",!e.valid&&(e.touched||e.dirty))}}function f(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"small"),s["\u0275\u0275text"](1," This field is required "),s["\u0275\u0275elementEnd"]())}function u(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275template"](1,f,2,0,"small",23),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2).ngIf;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.errors.required)}}function g(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",22),s["\u0275\u0275template"](1,u,2,1,"div",23),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]().ngIf;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.errors)}}function w(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",18),s["\u0275\u0275elementStart"](1,"label",24),s["\u0275\u0275text"](2,"New password"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"input",25),s["\u0275\u0275template"](4,g,2,1,"div",21),s["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf;s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",!e.valid&&(e.touched||e.dirty))}}function v(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"small"),s["\u0275\u0275text"](1," This field is required "),s["\u0275\u0275elementEnd"]())}function h(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275template"](1,v,2,0,"small",23),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2).ngIf;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.errors.required)}}function S(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",22),s["\u0275\u0275template"](1,h,2,1,"div",23),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]().ngIf;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.errors)}}function b(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"small",22),s["\u0275\u0275text"](1," Password and confirm password must matched. "),s["\u0275\u0275elementEnd"]())}function y(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",18),s["\u0275\u0275elementStart"](1,"label",26),s["\u0275\u0275text"](2,"Confirm Password"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"input",27),s["\u0275\u0275template"](4,S,2,1,"div",21),s["\u0275\u0275template"](5,b,2,0,"small",21),s["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf,n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",!e.valid&&(e.touched||e.dirty)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!(null!=n.changePasswordForm.controls.confirmPassword.errors&&n.changePasswordForm.controls.confirmPassword.errors.required)&&n.changePasswordForm.controls.password.value!==n.changePasswordForm.controls.confirmPassword.value)}}const I=[{path:"",component:(()=>{class e{constructor(e,t,n,r){this.fb=e,this.signInService=t,this.commonService=n,this.router=r,this.changePasswordForm=this.fb.group({currentPassword:["",a.v.compose([a.v.required])],password:["",a.v.compose([a.v.required])],confirmPassword:["",a.v.compose([a.v.required])]})}ngOnInit(){}onSubmitForm(e,t){if(e){const e="true"===localStorage.getItem("rememberMe")?JSON.parse(localStorage.getItem("user"))._id:JSON.parse(sessionStorage.getItem("user"))._id,n={currentPassword:this.commonService.encrypt(t.currentPassword),password:this.commonService.encrypt(t.password)};this.signInService.changePassword(e,n).subscribe(e=>{e&&(this.commonService.alert("success",e.message),sessionStorage.clear(),localStorage.clear(),this.router.navigate([""],{replaceUrl:!0}))})}else this.changePasswordForm.markAllAsTouched()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](a.d),s["\u0275\u0275directiveInject"](d.a),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](o.c))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-password"]],decls:25,vars:6,consts:[[1,"container","change-password"],[1,"d-flex","justify-content-between","align-items-center"],[1,"change-password__heading"],["aria-label","breadcrumb"],[1,"breadcrumb","bg-white"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card"],[1,"card-body","d-flex","p-0"],[1,"change-password__empty-block"],[1,"d-flex","align-items-center","justify-content-center","h-100"],["src","assets/img/change-password.png","alt","change password",1,"w-25"],[1,"p-4","w-50"],["novalidate","",3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf"],["type","reset",1,"job-btn","job-btn-outline"],["type","submit",1,"job-btn","job-btn-small","w-auto","ml-3",3,"disabled"],[1,"form-group"],["for","currentpassword"],["type","password","id","currentpassword","placeholder","Password","formControlName","currentPassword",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[4,"ngIf"],["for","password"],["type","password","id","password","placeholder","new password","formControlName","password",1,"form-control"],["for","confirmpassword"],["type","password","id","confirmpassword","placeholder","Confirm password","formControlName","confirmPassword",1,"form-control"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"h2",2),s["\u0275\u0275text"](3,"Change password"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"nav",3),s["\u0275\u0275elementStart"](5,"ol",4),s["\u0275\u0275elementStart"](6,"li",5),s["\u0275\u0275elementStart"](7,"a",6),s["\u0275\u0275text"](8,"Dashboard"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"li",7),s["\u0275\u0275text"](10," change password "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",8),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"div",11),s["\u0275\u0275element"](15,"img",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",13),s["\u0275\u0275elementStart"](17,"form",14),s["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmitForm(t.changePasswordForm.valid,t.changePasswordForm.value)}),s["\u0275\u0275template"](18,p,5,1,"div",15),s["\u0275\u0275template"](19,w,5,1,"div",15),s["\u0275\u0275template"](20,y,6,2,"div",15),s["\u0275\u0275elementStart"](21,"button",16),s["\u0275\u0275text"](22,"Cancel"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"button",17),s["\u0275\u0275text"](24," Change password "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("routerLink","/dashboard"),s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("formGroup",t.changePasswordForm),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.changePasswordForm.controls.currentPassword),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.changePasswordForm.controls.password),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.changePasswordForm.controls.confirmPassword),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("disabled",t.changePasswordForm.controls.password.value!==t.changePasswordForm.controls.confirmPassword.value))},directives:[o.e,a.w,a.p,a.h,r.n,a.b,a.o,a.f],styles:[".change-password__heading[_ngcontent-%COMP%]{font-size:20px}.change-password__empty-block[_ngcontent-%COMP%]{background-color:var(--secondary);height:auto;width:50%}"]}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[o.f.forChild(I)],o.f]}),e})(),x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[r.c,P,a.t,a.j]]}),e})()}}]);